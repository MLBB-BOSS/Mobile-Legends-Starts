# texts.py

import gettext
import os
from string import Template

# –õ–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è
def get_translator(language_code: str):
    locales_dir = os.path.join(os.path.dirname(__file__), 'locales')
    translator = gettext.translation('messages', localedir=locales_dir, languages=[language_code], fallback=True)
    translator.install()
    return translator.gettext

# Welcome Messages
WELCOME_TEXTS = {
    "new_user": """üî• <b>–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ Mobile Legends: Starts</b> ‚Äì —Ç–≤–æ–≥–æ –Ω–æ–≤–æ–≥–æ –µ–ø—ñ—á–Ω–æ–≥–æ —Å–æ—é–∑–Ω–∏–∫–∞ —É —Å–≤—ñ—Ç—ñ <b>Mobile Legends: Bang Bang!</b> üî•

üéÆ –ì–æ—Ç–æ–≤–∏–π –¥–æ –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–∏—Ö –ø—Ä–∏–≥–æ–¥? –ü—Ä–∏—î–¥–Ω—É–π—Å—è –¥–æ –Ω–∞—Å —Ç–∞ —Ä–æ–∑–∫—Ä–∏–π –≤—Å—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å–≤–æ—î—ó –≥—Ä–∏.

üéÆ <b>–†–æ–∑–ø–æ—á–Ω–µ–º–æ —Ü—é –ø—Ä–∏–≥–æ–¥—É —Ä–∞–∑–æ–º!</b> üïπÔ∏è

<b>–ó—Ä–æ–±–ª–µ–Ω–æ –∑ –ª—é–±–æ–≤'—é –¥–ª—è —Å–ø—Ä–∞–≤–∂–Ω—ñ—Ö —Ñ–∞–Ω–∞—Ç—ñ–≤ Mobile Legends. üíñ</b>""",
    "intro_page_1": """üî• <b>–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ Mobile Legends: Starts</b> ‚Äì —Ç–≤–æ–≥–æ –Ω–æ–≤–æ–≥–æ –µ–ø—ñ—á–Ω–æ–≥–æ —Å–æ—é–∑–Ω–∏–∫–∞ —É —Å–≤—ñ—Ç—ñ <b>Mobile Legends: Bang Bang!</b> üî•

üéÆ –ì–æ—Ç–æ–≤–∏–π –¥–æ –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–∏—Ö –ø—Ä–∏–≥–æ–¥? –ü—Ä–∏—î–¥–Ω—É–π—Å—è –¥–æ –Ω–∞—Å —Ç–∞ —Ä–æ–∑–∫—Ä–∏–π –≤—Å—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å–≤–æ—î—ó –≥—Ä–∏.

üéÆ <b>–†–æ–∑–ø–æ—á–Ω–µ–º–æ —Ü—é –ø—Ä–∏–≥–æ–¥—É —Ä–∞–∑–æ–º!</b> üïπÔ∏è

<b>–ó—Ä–æ–±–ª–µ–Ω–æ –∑ –ª—é–±–æ–≤'—é –¥–ª—è —Å–ø—Ä–∞–≤–∂–Ω—ñ—Ö —Ñ–∞–Ω–∞—Ç—ñ–≤ Mobile Legends. üíñ</b>""",
    "intro_page_2": """üí° <b>–§—É–Ω–∫—Ü—ñ—ó Mobile Legends: Starts:</b>

‚Ä¢ üß≠ <b>–ù–∞–≤—ñ–≥–∞—Ü—ñ—è:</b> –Ü–Ω—Ç—É—ó—Ç–∏–≤–Ω–æ –∑—Ä–æ–∑—É–º—ñ–ª–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —â–æ –¥–æ–∑–≤–æ–ª—è—î —à–≤–∏–¥–∫–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó.

‚Ä¢ ü™™ <b>–ú—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å:</b> –ü–µ—Ä–µ–≥–ª—è–¥–∞–π —Ç–∞ —Ä–µ–¥–∞–≥—É–π —Å–≤–æ—ó –æ—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ, –Ω–∞–ª–∞—à—Ç–æ–≤—É–π –ø—Ä–æ—Ñ—ñ–ª—å –¥–ª—è –∫—Ä–∞—â–æ—ó –≤–∑–∞—î–º–æ–¥—ñ—ó.

‚Ä¢ ü•∑ <b>–ü–µ—Ä—Å–æ–Ω–∞–∂—ñ:</b> –î—ñ–∑–Ω–∞–≤–∞–π—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ –∫–æ–∂–Ω–æ–≥–æ –≥–µ—Ä–æ—è, —ó—Ö–Ω—ñ –∑–¥—ñ–±–Ω–æ—Å—Ç—ñ —Ç–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –≥—Ä–∏.

‚Ä¢ üìö <b>–ì–∞–π–¥–∏:</b> –û—Ç—Ä–∏–º—É–π –¥–µ—Ç–∞–ª—å–Ω—ñ –ø–æ—Ä–∞–¥–∏, –ø–æ–∫—Ä–æ–∫–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó —Ç–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å–≤–æ—î—ó –≥—Ä–∏.

‚Ä¢ üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</b> –í—ñ–¥—Å—Ç–µ–∂—É–π —Å–≤—ñ–π –ø—Ä–æ–≥—Ä–µ—Å, –∞–Ω–∞–ª—ñ–∑—É–π —ñ–≥—Ä–æ–≤—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏ —Ç–∞ –ø—Ä–∞—Ü—é–π –Ω–∞–¥ —Å–ª–∞–±–∫–∏–º–∏ –º—ñ—Å—Ü—è–º–∏.

‚Ä¢ üõ°Ô∏è <b>–ë—ñ–ª–¥–∏:</b> –°—Ç–≤–æ—Ä—é–π –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ –∫–æ–º–ø–ª–µ–∫—Ç–∏ —Å–ø–æ—Ä—è–¥–∂–µ–Ω–Ω—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≥–µ—Ä–æ—è –∞–±–æ –æ–±–∏—Ä–∞–π –∑ –≥–æ—Ç–æ–≤–∏—Ö –Ω–∞–±–æ—Ä—ñ–≤.

‚Ä¢ üèÜ <b>–¢—É—Ä–Ω—ñ—Ä–∏:</b> –ë–µ—Ä–∏ —É—á–∞—Å—Ç—å —É –∑–º–∞–≥–∞–Ω–Ω—è—Ö, –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤—É–π –≤–ª–∞—Å–Ω—ñ —Ç—É—Ä–Ω—ñ—Ä–∏ —Ç–∞ –≤–∏–≥—Ä–∞–≤–∞–π —Ü—ñ–Ω–Ω—ñ –ø—Ä–∏–∑–∏.

–ù–∞—Ç–∏—Å–Ω–∏ –∫–Ω–æ–ø–∫—É <b>¬´–î–∞–ª—ñ¬ª</b>, —â–æ–± –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è."""
}

# Main Menu Texts
MAIN_MENU_TEXTS = {
    "greeting": "üëã –í—ñ—Ç–∞—î–º–æ, <b>{user_first_name}</b>, —É <b>Mobile Legends: Starts</b>!",
    "description": """üéÆ <b>MLS</b> –¥–æ–ø–æ–º–æ–∂–µ —Ç–æ–±—ñ:

‚Ä¢ üèÜ <b>–û—Ä–≥–∞–Ω—ñ–∑–æ–≤—É–≤–∞—Ç–∏ —Ç—É—Ä–Ω—ñ—Ä–∏:</b> –°—Ç–≤–æ—Ä—é–π —Ç–∞ —É–ø—Ä–∞–≤–ª—è–π –∑–º–∞–≥–∞–Ω–Ω—è–º–∏ –¥–ª—è —Å–µ–±–µ —Ç–∞ —Å–≤–æ—ó—Ö –¥—Ä—É–∑—ñ–≤.
‚Ä¢ üì∏ <b>–ó–±–µ—Ä—ñ–≥–∞—Ç–∏ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ–≤:</b> –ó–±–µ—Ä—ñ–≥–∞–π –≤–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏ —Ç–∞ –æ–±–º—ñ–Ω—é–π—Å—è –Ω–∏–º–∏ –∑ —ñ–Ω—à–∏–º–∏ –≥—Ä–∞–≤—Ü—è–º–∏.
‚Ä¢ üìä <b>–í—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:</b> –°–ª—ñ–¥–∫—É–π –∑–∞ —Å–≤–æ—î—é —Ç–∞ –∫–æ–º–∞–Ω–¥–Ω–æ—é –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é –≤ –≥—Ä—ñ.
‚Ä¢ üèÖ <b>–û—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è:</b> –ó–∞—Ä–æ–±–ª—è–π –Ω–∞–≥–æ—Ä–æ–¥–∏ –∑–∞ —Å–≤–æ—ó —É—Å–ø—ñ—Ö–∏ —Ç–∞ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è."""
}

# Menu Texts
MENU_TEXTS = {
    "navigation": """üß≠ <b>–ù–∞–≤—ñ–≥–∞—Ü—ñ—è</b>

–û–±–µ—Ä—ñ—Ç—å —Ä–æ–∑–¥—ñ–ª –¥–ª—è –ø–æ–¥–∞–ª—å—à–∏—Ö –¥—ñ–π:""",
    "profile": """ü™™ <b>–ú—ñ–π –ü—Ä–æ—Ñ—ñ–ª—å</b>

–û–±–µ—Ä—ñ—Ç—å –æ–ø—Ü—ñ—é –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É:""",
    "heroes": """ü•∑ <b>–ü–µ—Ä—Å–æ–Ω–∞–∂—ñ</b>

–û–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –≥–µ—Ä–æ—ó–≤:""",
    # –î–æ–¥–∞–π—Ç–µ —ñ–Ω—à—ñ –º–µ–Ω—é –∑–∞ –ø–æ—Ç—Ä–µ–±–æ—é
}

# Error Messages
ERROR_TEXTS = {
    "unknown_command": "‚ùó –í–∏–±–∞—á—Ç–µ, —è –Ω–µ —Ä–æ–∑—É–º—ñ—é —Ü—é –∫–æ–º–∞–Ω–¥—É. –°–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ—Å—è –º–µ–Ω—é –Ω–∏–∂—á–µ –¥–ª—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó.",
    "generic_error": "‚ö†Ô∏è –°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞. –ë—É–¥—å –ª–∞—Å–∫–∞, —Å–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.",
    "cannot_edit_message": "‚ö†Ô∏è –ù–µ –≤–¥–∞–ª–æ—Å—è –æ–Ω–æ–≤–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑ –∞–±–æ –∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏."
}

# Feedback Messages
FEEDBACK_TEXTS = {
    "send_feedback_prompt": "üìù –ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –≤–∞—à –≤—ñ–¥–≥—É–∫:",
    "report_bug_prompt": "üêõ –ë—É–¥—å –ª–∞—Å–∫–∞, –æ–ø–∏—à—ñ—Ç—å –ø–æ–º–∏–ª–∫—É, —è–∫—É –≤–∏ –∑–Ω–∞–π—à–ª–∏:",
    "feedback_received": "‚úÖ –î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à –≤—ñ–¥–≥—É–∫! –ú–∏ –π–æ–≥–æ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ.",
    "bug_report_received": "‚úÖ –î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à –∑–≤—ñ—Ç! –ú–∏ –≤–∏–ø—Ä–∞–≤–∏–º–æ –ø–æ–º–∏–ª–∫—É —è–∫–Ω–∞–π—à–≤–∏–¥—à–µ."
}

# Button Texts
BUTTON_TEXTS = {
    "start": "üöÄ –†–æ–∑–ø–æ—á–∞—Ç–∏",
    "back": "üîô –ù–∞–∑–∞–¥",
    "profile": "ü™™ –ü—Ä–æ—Ñ—ñ–ª—å",
    "help": "‚ùì –î–æ–ø–æ–º–æ–≥–∞",
    "send_feedback": "üìù –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –≤—ñ–¥–≥—É–∫",
    "report_bug": "üêõ –ü–æ–≤—ñ–¥–æ–º–∏—Ç–∏ –ø—Ä–æ –ø–æ–º–∏–ª–∫—É",
    # –î–æ–¥–∞–π—Ç–µ —ñ–Ω—à—ñ –∫–Ω–æ–ø–∫–∏ –∑–∞ –ø–æ—Ç—Ä–µ–±–æ—é
}

# Templates
MENU_TEMPLATE = Template("""üîß <b>${menu_name}</b>

–û–±–µ—Ä—ñ—Ç—å –æ–ø—Ü—ñ—é –¥–ª—è –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è:
${options}
""")

ERROR_TEMPLATE = Template("""‚ö†Ô∏è <b>–ü–æ–º–∏–ª–∫–∞:</b> ${description}. –ë—É–¥—å –ª–∞—Å–∫–∞, —Å–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.""")

# Functions for Dynamic Texts
def generate_profile_text(username: str, level: int, rating: int, achievements_count: int) -> str:
    """–ì–µ–Ω–µ—Ä—É—î —Ç–µ–∫—Å—Ç –ø—Ä–æ—Ñ—ñ–ª—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞."""
    return f"""ü™™ <b>–í–∞—à –ü—Ä–æ—Ñ—ñ–ª—å:</b>

‚Ä¢ üèÖ <b>–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:</b> {username}
‚Ä¢ üß¨ <b>–†—ñ–≤–µ–Ω—å:</b> {level}
‚Ä¢ üìà <b>–†–µ–π—Ç–∏–Ω–≥:</b> {rating}
‚Ä¢ üéØ <b>–î–æ—Å—è–≥–Ω–µ–Ω–Ω—è:</b> {achievements_count} –¥–æ—Å—è–≥–Ω–µ–Ω—å
"""

def generate_statistics_text(played_matches: int, wins: int, losses: int, average_rating: int) -> str:
    """–ì–µ–Ω–µ—Ä—É—î —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞."""
    return f"""üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</b>

‚Ä¢ üéÆ –ì—Ä–∞–Ω–∏—Ö –º–∞—Ç—á—ñ–≤: {played_matches}
‚Ä¢ üèÜ –ü–µ—Ä–µ–º–æ–≥: {wins}
‚Ä¢ üíî –ü–æ—Ä–∞–∑–æ–∫: {losses}
‚Ä¢ üìà –°–µ—Ä–µ–¥–Ω—ñ–π —Ä–µ–π—Ç–∏–Ω–≥: {average_rating}
"""

def generate_error_message(description: str) -> str:
    """–ì–µ–Ω–µ—Ä—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É."""
    return ERROR_TEMPLATE.substitute(description=description)

def generate_menu(menu_name: str, options: str) -> str:
    """–ì–µ–Ω–µ—Ä—É—î —Ç–µ–∫—Å—Ç –º–µ–Ω—é."""
    return MENU_TEMPLATE.substitute(menu_name=menu_name, options=options)

# –õ–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è
def get_translator(language_code: str):
    locales_dir = os.path.join(os.path.dirname(__file__), 'locales')
    translator = gettext.translation('messages', localedir=locales_dir, languages=[language_code], fallback=True)
    translator.install()
    return translator.gettext
