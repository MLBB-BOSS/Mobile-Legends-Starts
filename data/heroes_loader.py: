import json
import os

# Шлях до файлу heroes.json
CURRENT_DIR = os.path.dirname(os.path.abspath(__file__))
HEROES_FILE = os.path.join(CURRENT_DIR, 'heroes.json')

# Завантаження даних героїв з JSON-файлу
def load_heroes():
    with open(HEROES_FILE, 'r', encoding='utf-8') as file:
        data = json.load(file)
    heroes = data.get('heroes', [])
    # Створення словника для швидкого доступу за ім'ям героя
    heroes_dict = {hero['name'].lower(): hero for hero in heroes}
    return heroes_dict

# Завантаження даних при імпорті модуля
HEROES_DATA = load_heroes()

# Функція для отримання інформації про героя за іменем
def get_hero_info(hero_name):
    return HEROES_DATA.get(hero_name.lower())

# Функція для отримання клавіатури з інлайн-кнопками для героя
from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton

def get_hero_info_keyboard(hero_name):
    keyboard = InlineKeyboardMarkup(row_width=1)
    # Приклад кнопки для отримання додаткової інформації або дій
    keyboard.add(
        InlineKeyboardButton(text="Переглянути гайди", callback_data=f"guide_{hero_name.lower()}"),
        InlineKeyboardButton(text="Повернутися", callback_data="menu_back")
    )
    return keyboard
